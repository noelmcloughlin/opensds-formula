###  opensds/osfamilymap.yaml
# -*- coding: utf-8 -*-
# vim: ft=jinja

Default:
  let:
    conf:
      log_file: /var/log/opensds/osdslet.log
  auth:
    conf:
      keystone_authtoken:
        signing_dir: /var/cache/opensds
        cafile: /opt/stack/data/ca-bundle.pem
  dock:
    block:
      container:
        image: debian-cinder
        platform: debian:stretch
        datadir: /opt/opensds/driver/container/data_dir
  sushi:
    dir:
      work: /opt/opensds-k8s-linux-amd64
      deploy: /opt/opensds-k8s-linux-amb64/provisioner/deploy
      flexvolume: /usr/libexec/kubernetes/kubelet-plugins/volume/exec/opensds.io~opensds
      csi: /opt/opensds-k8s-linux-amd64/csi/deploy/kubernetes

FreeBSD:
  salt:
    basedir:
      states: /usr/local/salt/base
      pillars: /usr/local/salt/pillar
      formula: /usr/local/salt/formula

Arch:
  pkgs:
    - python2-pip

RedHat:
  pkgs:
    - python2-pip
    - python-click
    - python-tox
    - librados-devel
    - librbd-devel
    - python-cinderclient 
    - python-brick-cinderclient-ext
    - docker-compose
    - device-mapper-persistent-data
    - python-setuptools
    - git
    - gcc
    - make
    - dos2unix
    - docker-compose
    - nodejs
    - npm
  dock:
    block:
      cinder:
        container:
          build: docker build https://git.openstack.org/openstack/loci.git --build-arg FROM=centos:7 --build-arg PROJECT=cinder --build-arg PROFILES="lvm ceph" --tag loci-cinder:ubuntu

Suse:
  pkgs:
    - python-pip
    - librados-dev
    - librbd-dev
    - python-setuptools
    - git
    - gcc
    - make
    - dos2unix
    - docker-compose
    - nodejs
    - npm

Debian:
  pkgs:
    - python-pip
    - librados-dev
    - librbd-dev
    - git
    - gcc
    - make
    - dos2unix
    - docker-compose
    - nodejs
    - npm
  dock:
    block:
      cinder:
        container:
          build: docker build https://git.openstack.org/openstack/loci.git --build-arg PROJECT=cinder --build-arg PROFILES="lvm ceph" --tag loci-cinder:ubuntu

