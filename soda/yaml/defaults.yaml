###  soda/defaults.yaml
# vim: sts=2 ts=2 sw=2 et ai
#

soda:
  conf: /etc/soda/soda.conf
  deploy_project: all    ##### 'controller', 'multicloud' or 'all' ####
  host: 127.0.0.1
  pkgs: []
  dir_mode: '0755'
  file_mode: '0644'
  user: root
  compose: /usr/bin/docker-compose
  force_clone: True

  environ:
    soda_endpoint: '127.0.0.1:50040'
    soda_auth_strategy: 'keystone'
    csi_endpoint: '127.0.0.1:50040'
    docker_opts: --dns 8.8.8.8 --dns 8.8.4.4

  dir:
    config: /etc/soda               #leave me alone
    driver: /etc/soda/driver        #leave me alone
    log: /var/log/soda
    tmp: /tmp/soda
    devstack: /opt/soda-devstack-linux-amd64
    controller: /opt/soda-linux-amd64
    nbp: /opt/soda-nbp-linux-amd64
    multicloud: /opt/soda-multicloud-linux-amd64
    dashboard: /opt/soda-dashboard-linux-amd64

  retry_option:
    # https://docs.saltstack.com/en/latest/ref/states/requisites.html#retrying-states
    attempts: 3
    until: True
    interval: 60
    splay: 10

  systemd:
    dir: /usr/lib/systemd/system
    conf:
      Type: forking
      LimitFSIZE: infinity
      LimitCPU: infinity
      LimitAS: infinity
      LimitNOFILE: 64000
      LimitNPROC: 64000
      LimitMEMLOCK: infinity
      TasksMax: infinity
      TasksAccounting: false

  backend:
    block:
      container:
        cinder:
          makefile:
            platform: 'debian:stretch'
