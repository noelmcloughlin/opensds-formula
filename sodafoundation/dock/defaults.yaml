### sodafoundation/dock/defaults.yaml
# vim: sts=2 ts=2 sw=2 et ai

sodafoundation:
  dock:
    ids:
      - sodafoundation
      - dock
    binaries:
      sodafoundation:
        - dock
    conf:
      dock:
        api_endpoint: '0.0.0.0:50050'
        log_file: /var/log/sodafoundation/dock.log
        dock_type: provisioner
        enabled_backends: 'lvm, cinder, ceph, nfs, netapp_ontap_san'
    container:
      dock:
        image: sodafoundationio/sodafoundation-dock
        version: latest
        privileged: True
        volumes:
          - /etc/sodafoundation/:/etc/sodafoundation
    daemon:
      sodafoundation:
        strategy: binaries
      dock:
        strategy: config-systemd
        start: /usr/local/bin/osdsdock
        stop: /usr/bin/killall osdsdock
        before:
          - sodafoundation-csi
          - sodafoundation-provisioner
          - sodafoundation-cinder
          - sodafoundation-dashboard
